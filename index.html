<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self' https: 'unsafe-inline'">
  <meta name="description" content="Med & Beauty.ge — медицинские и косметические услуги в Грузии. Лечение, пластическая хирургия, логистика, реабилитация.">
  <meta name="keywords" content="медицинский туризм, лечение в Грузии, пластическая хирургия, косметология, реабилитация">
  <meta property="og:title" content="Med&Beauty.Ge - Medical Tourism in Georgia">
  <meta property="og:description" content="Организация лечения, трансфера и проживания в Грузии под ключ.">
  <meta property="og:image" content="./images/logo-medbeauty.png">
  <meta property="og:url" content="https://medbeautyge.github.io">
  <title>Med&Beauty.Ge - Medical Tourism Coordinator</title>
  <link rel="icon" href="./images/favicon-32x32.png" type="image/png" sizes="32x32">
  <link rel="icon" href="./images/favicon-16x16.png" type="image/png" sizes="16x16">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="style.css?v=10"> <!-- Changed v=9 to v=10 for cache busting -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
</head>
<body>
  <div class="lang-switcher">
    <button class="active" aria-label="Русский" onclick="changeLanguage('ru')">RU</button>
    <button aria-label="English" onclick="changeLanguage('en')">EN</button>
    <button aria-label="Deutsch" onclick="changeLanguage('de')">DE</button>
  </div>

  <nav class="sticky-nav" role="navigation" aria-label="Main navigation">
    <button class="menu-toggle" aria-label="Toggle menu" aria-expanded="false">
      <span class="burger-icon">☰</span>
      <span class="close-icon" style="display:none;">×</span>
    </button>
    <img src="./images/logo-medbeauty.png"
         alt="Логотип Med & Beauty.ge - Медицинские и косметические услуги в Грузии"
         title="Med & Beauty.ge"
         class="logo"
         loading="lazy">
    <div class="slogan" data-translate="slogan"></div>
    <ul class="nav-list">
      <li><a href="#home" data-translate="home"></a></li>
      <li><a href="#about" data-translate="about"></a></li>
      <li><a href="#services" data-translate="services"></a></li>
      <li><a href="#howwework" data-translate="howWeWork"></a></li>
      <li><a href="#gallery" data-translate="gallery"></a></li>
      <li><a href="#reviews" data-translate="reviews"></a></li>
      <li><a href="#contact" data-translate="contact"></a></li>
    </ul>
  </nav>

  <section id="home" class="hero">
    <div class="hero-content">
      <h1 data-translate="heroTitle" data-aos="fade-up" data-aos-delay="100"></h1>
      <p data-translate="heroSub" data-aos="fade-up" data-aos-delay="200"></p>
      <ul class="advantages-list" data-aos="fade-up" data-aos-delay="300">
        <li><i class="fas fa-user-md"></i> <span data-translate="advantage1"></span></li>
        <li><i class="fas fa-hospital"></i> <span data-translate="advantage2"></span></li>
        <li><i class="fas fa-shield-alt"></i> <span data-translate="advantage3"></span></li>
      </ul>
      <a href="#contact" class="cta-btn" data-translate="ctaConsult" data-aos="zoom-in" data-aos-delay="400"></a>
    </div>
  </section>

  <section id="about" class="about-section" data-aos="fade-up">
    <h2 data-translate="about"></h2>
    <div class="mission-text">
      <div data-translate="missionIntro"></div>
      <hr class="mission-separator">
      <button class="read-more-btn" data-translate="readMoreAbout" aria-expanded="false" aria-controls="missionFullText"></button>
      <div id="missionFullText" class="mission-full-text" data-translate="mission" style="display: none;">
          <!-- The content for data-translate="mission" will be populated here by lang.js -->
      </div>
    </div>
  </section>

  <section id="services" class="services">
    <h2 data-translate="ourServices" data-aos="fade-up"></h2>
    <div class="service-container">
      <div class="service-card" data-aos="zoom-in">
        <img src="./images/service-travel.png" alt="Логистика" class="service-img" loading="lazy">
        <h3 data-translate="travel"></h3>
        <p data-translate="travelDesc"></p>
      </div>
      <div class="service-card" data-aos="zoom-in">
        <img src="./images/service-rhinoplasty.png" alt="Медицинские услуги" class="service-img" loading="lazy">
        <h3 data-translate="rhino"></h3>
        <p data-translate="rhinoDesc"></p>
      </div>
      <div class="service-card" data-aos="zoom-in">
        <img src="./images/service-care.png" alt="Реабилитация" class="service-img" loading="lazy">
        <h3 data-translate="care"></h3>
        <p data-translate="careDesc"></p>
      </div>
    </div>
  </section>

  <!-- КАК МЫ РАБОТАЕМ -->
  <section id="howwework" class="howwework-section" data-aos="fade-up">
    <h2 data-translate="howWeWork"></h2>
    <ol class="howwework-list">
      <li data-translate="stepConsult"></li>
      <li data-translate="stepDocs"></li>
      <li data-translate="stepClinic"></li>
      <li data-translate="stepContract"></li>
      <li data-translate="stepArrival"></li>
      <li data-translate="stepTreatment"></li>
      <li data-translate="stepRehab"></li>
      <li data-translate="stepSupport"></li>
    </ol>
    <div class="concierge-service">
      <h3 data-translate="conciergeService"></h3>
      <ul>
        <li data-translate="conciergeMeet"></li>
        <li data-translate="conciergeEscort"></li>
        <li data-translate="conciergeExcursions"></li>
        <li data-translate="conciergeHousehold"></li>
      </ul>
    </div>
  </section>

  <!-- ГАЛЕРЕЯ -->
  <section id="gallery" class="gallery-section" data-aos="fade-up">
    <h2 data-translate="gallery"></h2>
    <div class="gallery-tabs">
      <button class="tab active" data-tab="procedures" data-translate="galleryProcedures"></button>
      <button class="tab" data-tab="tourism" data-translate="galleryTourism"></button>
    </div>
    <div class="gallery-content">
      <div class="tab-content active" id="tab-procedures">
        <p data-translate="galleryProceduresSoon"></p>
      </div>
      <div class="tab-content" id="tab-tourism">
        <p data-translate="galleryTourismSoon"></p>
      </div>
    </div>
  </section>

  <section id="reviews" class="reviews-section" data-aos="fade-up">
    <h2 data-translate="reviews"></h2>
    <!-- Сюда будут добавляться отзывы -->
  </section>

  <section id="contact" class="contact" data-aos="fade-up">
    <div class="contact-info">
      <h2 data-translate="contactUs"></h2>
      <p><i class="fas fa-envelope"></i> <a href="mailto:Medbeautyge@hotmail.com">Medbeautyge@hotmail.com</a></p>
      <p><i class="fas fa-phone"></i> <a href="tel:+995555392666">+995 555 392 666</a></p>
      <div class="or-message" data-translate="orMessageUs"></div>
      <div class="social-links">
        <a href="https://wa.me/995555392666" class="whatsapp" target="_blank" rel="noopener">
          <i class="fab fa-whatsapp" aria-label="WhatsApp"></i>
          <span>WhatsApp</span>
        </a>
        <a href="https://t.me/medbeautygeorgia" class="telegram" target="_blank" rel="noopener">
          <i class="fab fa-telegram" aria-label="Telegram"></i>
          <span>Telegram</span>
        </a>
        <a href="https://instagram.com/medbeauty.ge" class="instagram" target="_blank" rel="noopener">
          <i class="fab fa-instagram" aria-label="Instagram"></i>
          <span>Instagram</span>
        </a>
        <a href="https://facebook.com/medbeautyge" class="facebook" target="_blank" rel="noopener">
          <i class="fab fa-facebook-f" aria-label="Facebook"></i>
          <span>Facebook</span>
        </a>
      </div>
    </div>
    <form id="contact-form" action="https://formspree.io/f/xrbqvoly" method="POST" autocomplete="off" novalidate>
      <div class="form-group">
        <label for="name" class="sr-only" data-translate="namePlaceholder"></label>
        <i class="fas fa-user"></i>
        <input type="text" id="name" name="name" placeholder="Имя" data-translate="namePlaceholder" required autocomplete="name">
      </div>
      <div class="form-group">
        <label for="email" class="sr-only" data-translate="emailPlaceholder"></label>
        <i class="fas fa-envelope"></i>
        <input type="email" id="email" name="email" placeholder="Email" data-translate="emailPlaceholder" required autocomplete="email" pattern="[^@\s]+@[^@\s]+\.[^@\s]+">
      </div>
      <div class="form-group">
        <label for="message" class="sr-only" data-translate="messagePlaceholder"></label>
        <i class="fas fa-comment"></i>
        <textarea id="message" name="message" placeholder="Сообщение" data-translate="messagePlaceholder" required rows="5"></textarea>
      </div>
      <button type="submit" class="submit-btn" data-translate="send" aria-label="Отправить"></button>
      <div id="form-loading" style="display:none; text-align:center; color:#1B8F8F; margin-top:10px;">
        <span class="spinner"></span> <span id="loading-text" data-translate="sending">Отправка...</span>
      </div>
      <div id="form-success" class="form-success-message" style="display:none;" data-translate="success">
        Спасибо! Мы свяжемся с вами в ближайшее время.
      </div>
    </form>
  </section>

  <script src="lang.js"></script>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    AOS.init({
      duration: 800, // Продолжительность анимации
      once: true // Анимация сработает только один раз
    });

    // Мобильное меню
    const menuToggle = document.querySelector('.menu-toggle');
    const navList = document.querySelector('.nav-list');
    const burgerIcon = document.querySelector('.burger-icon');
    const closeIcon = document.querySelector('.close-icon');

    menuToggle.addEventListener('click', function(e) {
      navList.classList.toggle('active');
      document.body.classList.toggle('menu-open'); // Для оверлея
      const isActive = navList.classList.contains('active');
      menuToggle.setAttribute('aria-expanded', isActive);
      burgerIcon.style.display = isActive ? 'none' : '';
      closeIcon.style.display = isActive ? '' : 'none';
      if (isActive) {
        navList.classList.add('slide-in');
      } else {
        navList.classList.remove('slide-in');
      }
    });

    // Закрытие меню при клике вне его или на ссылку
    function closeMenu() {
      if (navList.classList.contains('active')) {
        navList.classList.remove('active');
        navList.classList.remove('slide-in');
        document.body.classList.remove('menu-open');
        menuToggle.setAttribute('aria-expanded', "false");
        burgerIcon.style.display = '';
        closeIcon.style.display = 'none';
      }
    }

    document.addEventListener('click', function(e) {
      if (navList.classList.contains('active') && 
          !navList.contains(e.target) && 
          e.target !== menuToggle && 
          !menuToggle.contains(e.target)) {
        closeMenu();
      }
    });

    navList.querySelectorAll('a').forEach(link => {
      link.addEventListener('click', closeMenu);
    });


    // Formspree form submission
    const contactForm = document.getElementById('contact-form');
    const formLoading = document.getElementById('form-loading'); 
    const formSuccess = document.getElementById('form-success');
    const submitButton = contactForm.querySelector('.submit-btn');
    const loadingTextElement = document.getElementById('loading-text'); 

    contactForm.addEventListener('submit', async function(event) {
        event.preventDefault();
        
        const originalButtonHTML = submitButton.innerHTML; 
        const currentSendingText = loadingTextElement.innerHTML; 

        submitButton.disabled = true;
        submitButton.innerHTML = `<span class="spinner"></span> ${currentSendingText}`; 
        
        formSuccess.style.display = 'none'; 

        const formData = new FormData(contactForm);
        
        try {
            const response = await fetch(contactForm.action, {
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            });

            if (response.ok) {
                formSuccess.style.display = 'block'; 
                contactForm.reset(); 
            } else {
                const data = await response.json();
                if (Object.hasOwn(data, 'errors')) {
                    alert(data["errors"].map(error => error["message"]).join(", "));
                } else {
                    const errorText = data.error || 'Произошла ошибка при отправке формы.';
                    alert(errorText);
                }
            }
        } catch (error) {
            alert('Произошла ошибка при отправке формы. Пожалуйста, проверьте ваше интернет-соединение.');
        } finally {
            submitButton.disabled = false;
            submitButton.innerHTML = originalButtonHTML; 
        }
    });

    // Scripts that need DOMContentLoaded
    document.addEventListener('DOMContentLoaded', function() {
      // Галерея: табы
      document.querySelectorAll('.gallery-tabs .tab').forEach(btn => {
        btn.addEventListener('click', function() {
          document.querySelectorAll('.gallery-tabs .tab').forEach(b => b.classList.remove('active'));
          document.querySelectorAll('.gallery-content .tab-content').forEach(tc => tc.classList.remove('active'));
          btn.classList.add('active');
          const tabId = 'tab-' + btn.dataset.tab;
          const tabContent = document.getElementById(tabId);
          if (tabContent) {
             tabContent.classList.add('active');
          }
        });
      });

      // "Read More" for About Us section
      const readMoreBtn = document.querySelector('.read-more-btn');
      const missionFullText = document.getElementById('missionFullText');

      if (readMoreBtn && missionFullText) {
        // Initial data-translate attribute is set in HTML.
        // applyTranslations (called on DOMContentLoaded from lang.js) will set initial text.

        readMoreBtn.addEventListener('click', function() {
          const isExpanded = missionFullText.style.display !== 'none';
          const currentLang = localStorage.getItem('lang') || 'ru';

          if (isExpanded) {
            missionFullText.style.display = 'none';
            this.setAttribute('data-translate', 'readMoreAbout');
            this.setAttribute('aria-expanded', 'false');
          } else {
            missionFullText.style.display = 'block';
            this.setAttribute('data-translate', 'readLessAbout');
            this.setAttribute('aria-expanded', 'true');
          }

          // Update button text immediately based on the new data-translate key and current language
          const newKey = this.getAttribute('data-translate');
          if (window.translations && window.translations[currentLang] && window.translations[currentLang][newKey]) {
            this.textContent = window.translations[currentLang][newKey];
          }
        });
      }
    });
  </script>
</body>
</html>